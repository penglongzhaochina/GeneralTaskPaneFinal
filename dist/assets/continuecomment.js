!function(){for(var e=["clike","css","javascript"],n=0;n<e.length;++n)CodeMirror.extendMode(e[n],{blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * "});function t(e){var n,t=e.getCursor(),o=e.getTokenAt(t),r=CodeMirror.innerMode(e.getMode(),o.state).mode;if("comment"==o.type&&r.blockCommentStart&&r.blockCommentContinue){var i,m=o.string.indexOf(r.blockCommentEnd),l=e.getRange(CodeMirror.Pos(t.line,0),CodeMirror.Pos(t.line,o.end));if(-1!=m&&m==o.string.length-r.blockCommentEnd.length);else if(0==o.string.indexOf(r.blockCommentStart)){if(n=l.slice(0,o.start),!/^\s*$/.test(n)){n="";for(var C=0;C<o.start;++C)n+=" "}}else-1!=(i=l.indexOf(r.blockCommentContinue))&&i+r.blockCommentContinue.length>o.start&&/^\s*$/.test(l.slice(0,i))&&(n=l.slice(0,i))}if(null==n)return CodeMirror.Pass;e.replaceSelection("\n"+n+r.blockCommentContinue,"end")}CodeMirror.defineOption("continueComments",null,(function(e,n,o){o&&o!=CodeMirror.Init&&e.removeKeyMap("continueComment");var r={name:"continueComment"};r["string"==typeof n?n:"Enter"]=t,e.addKeyMap(r)}))}();